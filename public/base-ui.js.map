{"version":3,"file":"base-ui.js","sources":["../src/basic/text.js","../src/basic/form.js","../src/basic/dropdown.js","../src/basic/collapse.js","../src/basic/global.js"],"sourcesContent":["import styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// Text enhancement component.\r\nconst Text = styled.span`\r\n  ${({ color, size, spacing, weight, padding, transform, ellypsis, lh, block, font }) => `\r\n    ${block ? \"display: block; width: 100%;\" : \"display: inline-block;\"}\r\n    ${color ? `color:${color};` : \"\"}\r\n    ${size ? `font-size:${size};` : \"\"}\r\n    ${lh ? `line-height:${lh};` : \"\"}\r\n    ${spacing ? `margin: ${spacing};` : \"\"}\r\n    ${padding ? `padding:${padding};` : \"\"}\r\n    ${weight ? `font-weight:${weight};` : \"\"}\r\n    ${transform ? `text-transform:${transform};` : \"\"}\r\n    ${ellypsis ? `\r\n      width:100%;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n    ` : \"\"}\r\n    ${font ? `font-family: ${font};` : \"\"}\r\n  `}\r\n`;\r\n\r\nText.propTypes = {\r\n  lh: PropTypes.string,\r\n  font: PropTypes.string,\r\n  size: PropTypes.string,\r\n  color: PropTypes.string,\r\n  weight: PropTypes.string,\r\n  spacing: PropTypes.string,\r\n  padding: PropTypes.string,\r\n  transform: PropTypes.string,\r\n  ellypsis: PropTypes.bool,\r\n  block: PropTypes.bool,\r\n};\r\n\r\nText.defaultProps = {\r\n  padding: \"0\",\r\n  block: false,\r\n  ellypsis: false,\r\n};\r\n\r\nexport default Text;\r\n","import React, { useCallback, forwardRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// USAGE:\r\n/* \r\n\r\n  import From from \"/components/composit/form\";\r\n  ...\r\n\r\n  const handleSubmit = data => {\r\n    // data: object with all input fields name and their values => { inputName: inputValue }.\r\n  };\r\n\r\n  <Form onSubmit={handleSubmit}>...</Form>\r\n*/\r\n\r\nconst Form = forwardRef((props, ref) => {\r\n  const { children, onSubmit, includeCheckStatus, ...restProps } = props;\r\n  const handleSubmit = useCallback(\r\n    event => {\r\n      event.preventDefault();\r\n      onSubmit &&\r\n        onSubmit(formInputsToObject(event.target, { includeCheckStatus }), event.target);\r\n    },\r\n    [onSubmit],\r\n  );\r\n\r\n  return (\r\n    <form {...restProps} ref={ref} onSubmit={handleSubmit}>{children}</form>\r\n  );\r\n})\r\n\r\nForm.displayName = \"Form\";\r\n\r\nForm.propTypes = {\r\n  children: PropTypes.node,\r\n  onSubmit: PropTypes.func,\r\n  includeCheckStatus: PropTypes.bool,\r\n};\r\n\r\nForm.defaultProps = {\r\n  // If set to TRUE all checkboxes will report their chcek status.\r\n  includeCheckStatus: false,\r\n};\r\n\r\nexport default Form;\r\n\r\n\r\n// ---- Helpers ----------------\r\n\r\nexport function formInputsToObject(form, options = { includeCheckStatus: false }) {\r\n  return Array.from(form.elements).reduce(\r\n    (acc, element) => {\r\n      if (element.name) {\r\n        if (element.type === \"radio\") {\r\n          if (element.checked) {\r\n            acc[element.name] = element.value;\r\n          }\r\n        }\r\n        else if (element.type === \"checkbox\") {\r\n          if (options.includeCheckStatus) {\r\n            acc[element.name] = {\r\n              value: element.value,\r\n              checked: element.checked,\r\n            };\r\n          } else if (element.checked) {\r\n            acc[element.name] = element.value;\r\n          }\r\n        }\r\n        else {\r\n          acc[element.name] = element.value;\r\n        }\r\n      }\r\n      return acc;\r\n    }, {});\r\n}\r\n\r\nexport function hardFormReset(form, options = { resetValue: false }) {\r\n  Object.values(form.elements).forEach(input =>\r\n    input.type === \"checkbox\" && (input.checked = options.resetValue)\r\n  );\r\n}","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\n// USAGE\r\n/*\r\n  import Dropdown from \"@ludekarts/base-ui/dropdown\";\r\n  ...\r\n\r\n  \r\n  <button data-bui-dropdown-target=\"dropdownName\">Toggle my dropdown</button>\r\n\r\n  <Dropdown name=\"dropdownName\" onToggle={() => {}} autoHide>\r\n    Content\r\n  </Dropdown>\r\n\r\n*/\r\n\r\n// Styled.\r\nconst Container = styled.div`\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  visibility: hidden;\r\n  box-sizing: border-box;\r\n  transform: scale(0.95) translateZ(0);\r\n  transition: visibility 0s linear 0.5s, opacity .3s ease, transform .3s ease;\r\n\r\n  ${({ show }) => show && `\r\n    opacity: 1;\r\n    visibility: visible;\r\n    transform: scale(1) translateZ(0);\r\n    transition: opacity .3s ease, transform .3s ease, visibility 0s;\r\n    `\r\n  }\r\n`;\r\n\r\nexport default class Dropdown extends React.PureComponent {\r\n\r\n  static propTypes = {\r\n    onToggle: PropTypes.func,\r\n    autoHide: PropTypes.bool,\r\n    name: PropTypes.string.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    autoHide: false,\r\n  };\r\n\r\n  state = {\r\n    show: false\r\n  };\r\n\r\n  container = undefined;\r\n\r\n  handleClickOutside = event => {\r\n    // Click outside but on Toggle button.\r\n    if (event.target.dataset && event.target.dataset.buiDropdownTarget === this.props.name) {\r\n      return this.setState({\r\n        show: !this.state.show\r\n      });\r\n    }\r\n\r\n    // Click outside.\r\n    if (this.props.autoHide || (this.container && !this.container.contains(event.target))) {\r\n      return this.container !== event.target && // Prevents hiding when autoHide is active and user clicks on scrollbar.\r\n        this.setState({\r\n          show: false\r\n        });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    prevProps.toggle !== this.props.toggle &&\r\n      typeof this.props.toggle === \"boolean\" &&\r\n      this.setState({ show: !this.state.show });\r\n\r\n    this.props.onToggle &&\r\n      prevState.show !== this.state.show &&\r\n      this.props.onToggle(this.state.show);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  render() {\r\n    const { children, ...props } = this.props;\r\n    return (\r\n      <Container {...props} show={this.state.show} ref={container => this.container = container}>\r\n        {\r\n          children\r\n        }\r\n      </Container>\r\n    )\r\n  }\r\n}","import React, { useRef, useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  overflow: hidden;\r\n  transition: height .3s ease;\r\n  ${({ open, height, maxHeight, minHeight }) => `\r\n    height: ${open ? height : 0}px;\r\n    ${minHeight ? `min-height: ${minHeight}px;` : ``}\r\n    ${maxHeight ? `max-height: ${maxHeight}px; overflow: auto;` : ``}\r\n  `}\r\n`;\r\n\r\nconst Collapse = props => {\r\n  const [height, setHeight] = useState(0);\r\n  const wrapper = useRef();\r\n\r\n  useEffect(() => {\r\n    wrapper.current &&\r\n      setHeight(wrapper.current.scrollHeight);\r\n  }, []);\r\n\r\n  return (\r\n    <Wrapper {...props} height={height} ref={wrapper} />\r\n  );\r\n}\r\n\r\nCollapse.displayName = \"Collapse\";\r\nCollapse.propTypes = {\r\n  open: PropTypes.bool,\r\n  height: PropTypes.number,\r\n  maxHeight: PropTypes.number,\r\n  minHeight: PropTypes.number,\r\n};\r\n\r\nCollapse.defaultProps = {\r\n  open: false,\r\n};\r\n\r\nexport default Collapse;\r\n\r\n/*\r\n\r\n\r\nexport default class Colapse extends React.PureComponent {\r\n\r\n  container = React.createRef();\r\n\r\n  state = {\r\n    height: 0,\r\n  };\r\n\r\n  static propTypes = {\r\n    maxHeight: PropTypes.number,\r\n    open: PropTypes.bool.isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    open: false,\r\n  };\r\n\r\n  componendDidMount() {\r\n    this.setState({\r\n      height: this.container.current.scrollHeight\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.children !== this.props.children) {\r\n      this.setState({\r\n        height: this.container.current.scrollHeight\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container {...this.props} height={this.state.height} ref={this.container} />\r\n    )\r\n  }\r\n}\r\n\r\n*/","import React from \"react\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\n\r\nconst Styles = createGlobalStyle`\r\n  .base-ui {\r\n\r\n    --bui-box-shadow: 0px 9px 9px -11px rgba(0, 0, 0, 0.5);\r\n    --bui-lift-shadow: 0px 23px 18px -21px rgba(0, 0, 0, 0.7);\r\n\r\n    --bui-space: 0.5rem;\r\n    --bui-space-2x: 1rem;\r\n    --bui-space-3x: 1.5rem;\r\n    --bui-space-4x: 2rem;\r\n\r\n    & *,\r\n    & *::before,\r\n    & *::after {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    /* Spacing */\r\n\r\n    & .--space {\r\n      margin: var(--bui-space);\r\n    }\r\n\r\n    & .--space-2x {\r\n      margin: var(--bui-space-2x);\r\n    }\r\n\r\n    & .--space-3x {\r\n      margin: var(--bui-space-3x);\r\n    }\r\n\r\n    & .--space-4x {\r\n      margin: var(--bui-space-4x);\r\n    }\r\n\r\n  /* Spacing Inset */\r\n\r\n    & .--space-i {\r\n      padding: var(--bui-space);\r\n    }\r\n\r\n    & .--space-2x-i {\r\n      padding: var(--bui-space-2x);\r\n    }\r\n\r\n    & .--space-3x-i {\r\n      padding: var(--bui-space-3x);\r\n    }\r\n\r\n    & .--space-4x-i {\r\n      padding: var(--bui-space-4x);\r\n    }\r\n\r\n    /* Verical & Horizontal Alignment */\r\n\r\n    & .--stack-start  {\r\n      align-items: flex-start;\r\n    }\r\n\r\n    & .--stack-end {\r\n      align-items: flex-end;\r\n    }\r\n\r\n    & .--stack-stretch {\r\n      align-items: stretch;\r\n    }\r\n\r\n    & .--stack-center, .--v-center {      \r\n      align-items: center;\r\n    }\r\n\r\n    & .--rail-end {\r\n      justify-content: flex-end;\r\n    }\r\n   \r\n    & .--rail-start {\r\n      justify-content: flex-start;\r\n    }\r\n\r\n    & .--rail-center, .--h-center  {\r\n      justify-content: center;\r\n    }\r\n\r\n    & .--rail-spread {\r\n      justify-content: space-between;\r\n    }\r\n\r\n    & .--rail-evenly {\r\n      justify-content: space-evenly;\r\n    } \r\n\r\n    & .--rail-around {\r\n      justify-content: space-around;\r\n    } \r\n\r\n    /* Default focus */\r\n\r\n    & .base-ui-focus {      \r\n        transition: box-shadow .3s ease;\r\n      &:focus {\r\n        outline: none;\r\n        box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.6);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n\r\n/* Messahe Bubble \r\n\r\n[data-bubble] {\r\n  position: relative;\r\n  overflow: visible !important;\r\n\r\n  &.active::after {\r\n    top: -2.5em;   \r\n    opacity: 1;\r\n    color: white;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    border-radius: 0.25em;\r\n    // Forward \r\n    transition: \r\n      top 0.3s ease-in, \r\n      color 0.3s ease-in, \r\n      opacity 0.3s ease-in, \r\n      max-width 0.5s ease, \r\n      max-height 0.3s ease;\r\n  }\r\n\r\n  &::after {\r\n    top: 0;\r\n    opacity: 0; \r\n    max-width: 0.2em;\r\n    max-height: 0.5em;\r\n    border-radius: 0.25em;   \r\n    color: var(--cm-green); \r\n    // Backward \r\n    transition: \r\n      top 0.3s ease .25s, \r\n      opacity 0.3s ease .25s, \r\n      color 0.3s ease, \r\n      max-width 0.3s ease, \r\n      max-height 0.3s ease;\r\n\r\n    left: 50%;   \r\n    font-size: 0.9em;\r\n    overflow: hidden;\r\n    position: absolute;\r\n    text-align: center;\r\n    pointer-events: none;\r\n    padding: 0.1em 0.3em;    \r\n\r\n   \r\n    text-transform: uppercase;\r\n    content: attr(data-bubble);\r\n    transform: translate(-50%);\r\n    background-color: var(--cm-green);\r\n    \r\n  }\r\n}*/\r\n\r\n\r\n// ---- Global Utilities ---------------\r\n\r\n`;\r\n\r\nexport default function GlobalStyles({ children }) {\r\n  return (\r\n    <div className=\"base-ui\">\r\n      {children}\r\n      <Styles />\r\n    </div>\r\n  );\r\n}"],"names":["Text","styled","span","color","size","spacing","weight","padding","transform","lh","font","block","ellypsis","propTypes","PropTypes","string","bool","defaultProps","Form","forwardRef","props","ref","children","onSubmit","includeCheckStatus","restProps","handleSubmit","useCallback","event","options","preventDefault","Array","from","target","elements","reduce","acc","element","name","type","checked","value","React","displayName","node","func","Container","div","show","Dropdown","state","container","undefined","handleClickOutside","dataset","buiDropdownTarget","_this","setState","autoHide","contains","componentDidMount","document","addEventListener","this","componentDidUpdate","prevProps","prevState","toggle","onToggle","componentWillUnmount","removeEventListener","render","_this2","PureComponent","isRequired","Wrapper","maxHeight","minHeight","open","height","Collapse","useState","setHeight","wrapper","useRef","useEffect","current","scrollHeight","number","Styles","createGlobalStyle","className"],"mappings":"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"}