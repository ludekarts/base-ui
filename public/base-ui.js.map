{"version":3,"file":"base-ui.js","sources":["../src/basic/text.js","../src/basic/form.js","../src/basic/badge.js","../src/basic/dropdown.js","../src/basic/collapse.js","../src/basic/global.js"],"sourcesContent":["import styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// Text enhancement component.\r\nconst Text = styled.span`\r\n  ${({ color, size, spacing, weight, padding, transform, ellypsis, lh, block, font }) => `\r\n    ${block ? \"display: block; width: 100%;\" : \"display: inline-block;\"}\r\n    ${color ? `color:${color};` : \"\"}\r\n    ${size ? `font-size:${size};` : \"\"}\r\n    ${lh ? `line-height:${lh};` : \"\"}\r\n    ${spacing ? `margin: ${spacing};` : \"\"}\r\n    ${padding ? `padding:${padding};` : \"\"}\r\n    ${weight ? `font-weight:${weight};` : \"\"}\r\n    ${transform ? `text-transform:${transform};` : \"\"}\r\n    ${ellypsis ? `\r\n      width:100%;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n    ` : \"\"}\r\n    ${font ? `font-family: ${font};` : \"\"}\r\n  `}\r\n`;\r\n\r\nText.propTypes = {\r\n  lh: PropTypes.string,\r\n  font: PropTypes.string,\r\n  size: PropTypes.string,\r\n  color: PropTypes.string,\r\n  weight: PropTypes.string,\r\n  spacing: PropTypes.string,\r\n  padding: PropTypes.string,\r\n  transform: PropTypes.string,\r\n  ellypsis: PropTypes.bool,\r\n  block: PropTypes.bool,\r\n};\r\n\r\nText.defaultProps = {\r\n  padding: \"0\",\r\n  block: false,\r\n  ellypsis: false,\r\n};\r\n\r\nexport default Text;\r\n","import React, { useCallback, forwardRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n// USAGE:\r\n/* \r\n\r\n  import From from \"/components/composit/form\";\r\n  ...\r\n\r\n  const handleSubmit = data => {\r\n    // data: object with all input fields name and their values => { inputName: inputValue }.\r\n  };\r\n\r\n  <Form onSubmit={handleSubmit}>...</Form>\r\n*/\r\n\r\nconst Form = forwardRef((props, ref) => {\r\n  const { children, onSubmit, includeCheckStatus, ...restProps } = props;\r\n  const handleSubmit = useCallback(\r\n    event => {\r\n      event.preventDefault();\r\n      onSubmit &&\r\n        onSubmit(formInputsToObject(event.target, { includeCheckStatus }), event.target);\r\n    },\r\n    [onSubmit],\r\n  );\r\n\r\n  return (\r\n    <form {...restProps} ref={ref} onSubmit={handleSubmit}>{children}</form>\r\n  );\r\n})\r\n\r\nForm.displayName = \"Form\";\r\n\r\nForm.propTypes = {\r\n  children: PropTypes.node,\r\n  onSubmit: PropTypes.func,\r\n  includeCheckStatus: PropTypes.bool,\r\n};\r\n\r\nForm.defaultProps = {\r\n  // If set to TRUE all checkboxes will report their chcek status.\r\n  includeCheckStatus: false,\r\n};\r\n\r\nexport default Form;\r\n\r\n\r\n// ---- Helpers ----------------\r\n\r\nexport function formInputsToObject(form, options = { includeCheckStatus: false }) {\r\n  return Array.from(form.elements).reduce(\r\n    (acc, element) => {\r\n      if (element.name) {\r\n        if (element.type === \"radio\") {\r\n          if (element.checked) {\r\n            acc[element.name] = element.value;\r\n          }\r\n        }\r\n        else if (element.type === \"checkbox\") {\r\n          if (options.includeCheckStatus) {\r\n            acc[element.name] = {\r\n              value: element.value,\r\n              checked: element.checked,\r\n            };\r\n          } else if (element.checked) {\r\n            acc[element.name] = element.value;\r\n          }\r\n        }\r\n        else {\r\n          acc[element.name] = element.value;\r\n        }\r\n      }\r\n      return acc;\r\n    }, {});\r\n}\r\n\r\nexport function hardFormReset(form, options = { resetValue: false }) {\r\n  Object.values(form.elements).forEach(input =>\r\n    input.type === \"checkbox\" && (input.checked = options.resetValue)\r\n  );\r\n}","import PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Badge = styled.div`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  font-size: 0.9em;\r\n  padding: 0.3em;\r\n  border-radius: 2em;\r\n\r\n  ${({ justify, mnw, color }) => `\r\n    min-width: ${mnw};\r\n    background-color: ${color};\r\n    justify-content: ${justify};\r\n  `}  \r\n`;\r\n\r\nBadge.displayName = \"Badge\";\r\nBadge.propTypes = {\r\n  justify: PropTypes.string,\r\n  children: PropTypes.node,\r\n  onClose: PropTypes.func,\r\n  color: PropTypes.string,\r\n  mnw: PropTypes.string,\r\n};\r\n\r\nBadge.defaultProps = {\r\n  justify: \"center\",\r\n  color: \"#CCCCCC\",\r\n  mnw: \"3rem\",\r\n};\r\n\r\nexport default Badge;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\n// USAGE\r\n/*\r\n  import Dropdown from \"@ludekarts/base-ui/dropdown\";\r\n  ...\r\n\r\n  \r\n  <button data-bui-dropdown-target=\"dropdownName\">Toggle my dropdown</button>\r\n\r\n  <Dropdown name=\"dropdownName\" onToggle={() => {}} autoHide>\r\n    Content\r\n  </Dropdown>\r\n\r\n*/\r\n\r\n// Styled.\r\nconst Container = styled.div`\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  visibility: hidden;\r\n  box-sizing: border-box;\r\n  transform: scale(0.95) translateZ(0);\r\n  transition: visibility 0s linear 0.5s, opacity .3s ease, transform .3s ease;\r\n\r\n  ${({ show }) => show && `\r\n    opacity: 1;\r\n    visibility: visible;\r\n    transform: scale(1) translateZ(0);\r\n    transition: opacity .3s ease, transform .3s ease, visibility 0s;\r\n    `\r\n  }\r\n`;\r\n\r\nexport default class Dropdown extends React.PureComponent {\r\n\r\n  static propTypes = {\r\n    onToggle: PropTypes.func,\r\n    autoHide: PropTypes.bool,\r\n    name: PropTypes.string.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    autoHide: false,\r\n  };\r\n\r\n  state = {\r\n    show: false\r\n  };\r\n\r\n  container = undefined;\r\n\r\n  handleClickOutside = event => {\r\n    // Click outside but on Toggle button.\r\n    if (event.target.dataset && event.target.dataset.buiDropdownTarget === this.props.name) {\r\n      return this.setState({\r\n        show: !this.state.show\r\n      });\r\n    }\r\n\r\n    // Click outside.\r\n    if (this.props.autoHide || (this.container && !this.container.contains(event.target))) {\r\n      return this.container !== event.target && // Prevents hiding when autoHide is active and user clicks on scrollbar.\r\n        this.setState({\r\n          show: false\r\n        });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    prevProps.toggle !== this.props.toggle &&\r\n      typeof this.props.toggle === \"boolean\" &&\r\n      this.setState({ show: !this.state.show });\r\n\r\n    this.props.onToggle &&\r\n      prevState.show !== this.state.show &&\r\n      this.props.onToggle(this.state.show);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  render() {\r\n    const { children, ...props } = this.props;\r\n    return (\r\n      <Container {...props} show={this.state.show} ref={container => this.container = container}>\r\n        {\r\n          children\r\n        }\r\n      </Container>\r\n    )\r\n  }\r\n}","import React, { useRef, useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  overflow: hidden;\r\n  transition: height .3s ease;\r\n  ${({ open, height, maxHeight, minHeight }) => `\r\n    height: ${open ? height : 0}px;\r\n    ${minHeight ? `min-height: ${minHeight}px;` : ``}\r\n    ${maxHeight ? `max-height: ${maxHeight}px; overflow: auto;` : ``}\r\n  `}\r\n`;\r\n\r\nconst Collapse = props => {\r\n  const { open, ...rest } = props;\r\n  const [height, setHeight] = useState(0);\r\n  const wrapper = useRef();\r\n\r\n  useEffect(() => {\r\n    wrapper.current &&\r\n      setHeight(wrapper.current.scrollHeight);\r\n  }, [open]);\r\n\r\n  return (\r\n    <Wrapper {...rest} open={open} height={height} ref={wrapper} />\r\n  );\r\n}\r\n\r\nCollapse.displayName = \"Collapse\";\r\nCollapse.propTypes = {\r\n  open: PropTypes.bool,\r\n  height: PropTypes.number,\r\n  maxHeight: PropTypes.number,\r\n  minHeight: PropTypes.number,\r\n};\r\n\r\nCollapse.defaultProps = {\r\n  open: false,\r\n};\r\n\r\nexport default Collapse;\r\n","import React from \"react\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\n\r\nconst Styles = createGlobalStyle`\r\n    \r\n  :root {\r\n\r\n    --bui-box-shadow: 0px 9px 9px -11px rgba(0, 0, 0, 0.5);\r\n    --bui-lift-shadow: 0px 23px 18px -21px rgba(0, 0, 0, 0.7);\r\n\r\n    --bui-space: 0.5rem;\r\n    --bui-space-2x: 1rem;\r\n    --bui-space-3x: 1.5rem;\r\n    --bui-space-4x: 2rem;\r\n\r\n    & *,\r\n    & *::before,\r\n    & *::after {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    /* Enable children to expand vertically by using flex-grow property */\r\n    \r\n    ${({ fullCover }) => !fullCover ? `` : `     \r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      flex-direction: column;      \r\n     \r\n      & body {\r\n        margin: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n      }\r\n    `}\r\n\r\n    /* Full cover */\r\n\r\n    & .full-cover {\r\n      margin: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      flex-direction: column;\r\n    }    \r\n\r\n    /* FLex modifiers */\r\n\r\n    & .--flex-column {\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n\r\n    & .--flex-row-reverse {\r\n      display: flex;\r\n      flex-direction: row-reverse;\r\n    }\r\n\r\n    /* Spacing */\r\n\r\n    & .--space {\r\n      margin: var(--bui-space);\r\n    }\r\n\r\n    & .--space-2x {\r\n      margin: var(--bui-space-2x);\r\n    }\r\n\r\n    & .--space-3x {\r\n      margin: var(--bui-space-3x);\r\n    }\r\n\r\n    & .--space-4x {\r\n      margin: var(--bui-space-4x);\r\n    }\r\n\r\n  /* Spacing Inset */\r\n\r\n    & .--space-i {\r\n      padding: var(--bui-space);\r\n    }\r\n\r\n    & .--space-2x-i {\r\n      padding: var(--bui-space-2x);\r\n    }\r\n\r\n    & .--space-3x-i {\r\n      padding: var(--bui-space-3x);\r\n    }\r\n\r\n    & .--space-4x-i {\r\n      padding: var(--bui-space-4x);\r\n    }\r\n\r\n    /* Verical & Horizontal Alignment */\r\n\r\n    & .--stack-start, .--v-start {\r\n      align-items: flex-start;\r\n    }\r\n\r\n    & .--stack-end, .--v-end {\r\n      align-items: flex-end;\r\n    }\r\n\r\n    & .--stack-stretch, .--v-stretch {\r\n      align-items: stretch;\r\n    }\r\n\r\n    & .--stack-center, .--v-center {      \r\n      align-items: center;\r\n    }\r\n\r\n    & .--rail-end, .--h-end {\r\n      justify-content: flex-end;\r\n    }\r\n   \r\n    & .--rail-start, .--h-start  {\r\n      justify-content: flex-start;\r\n    }\r\n\r\n    & .--rail-center, .--h-center  {\r\n      justify-content: center;\r\n    }\r\n\r\n    & .--rail-spread, .--h-spread {\r\n      justify-content: space-between;\r\n    }\r\n\r\n    & .--rail-evenly, .--h-evenly {\r\n      justify-content: space-evenly;\r\n    } \r\n\r\n    & .--rail-around, .--h-around {\r\n      justify-content: space-around;\r\n    } \r\n\r\n    /* Default focus */\r\n\r\n    & .--focusable {      \r\n        transition: box-shadow .3s ease;\r\n      &:focus {\r\n        outline: none;\r\n        box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.6);\r\n      }\r\n    }\r\n\r\n    /* Cover Link */\r\n\r\n    & a.--cover-link {\r\n      position: initial;\r\n      &::after {\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        z-index: 0;\r\n        content: \"\";\r\n        position: absolute;\r\n      }\r\n    }\r\n\r\n    /* Capitalize first letter */\r\n    \r\n    & .caps-first-letter {\r\n      &::first-letter {\r\n        text-transform: uppercase;\r\n      }\r\n    }\r\n\r\n    /* Common */\r\n\r\n    & .--stretch {\r\n      width: 100%;\r\n    }\r\n\r\n    & .--expand-content {\r\n      & > * { \r\n        width: 100%; \r\n      }\r\n    }\r\n\r\n    & .--stretch-block {\r\n      display: block;\r\n      width: 100%;\r\n    }\r\n\r\n    & .--text-center {\r\n      text-align: center;\r\n    }\r\n   \r\n    & .--text-right {\r\n      text-align: right;\r\n    }\r\n   \r\n    & .--text-left {\r\n      text-align: left;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function GlobalStyles({ children, fullCover }) {\r\n  return (\r\n    <>\r\n      {children}\r\n      <Styles fullCover={fullCover} />\r\n    </>\r\n  );\r\n}"],"names":["Text","styled","span","color","size","spacing","weight","padding","transform","lh","font","block","ellypsis","propTypes","PropTypes","string","bool","defaultProps","Form","forwardRef","props","ref","children","onSubmit","includeCheckStatus","restProps","handleSubmit","useCallback","event","options","preventDefault","Array","from","target","elements","reduce","acc","element","name","type","checked","value","React","displayName","node","func","Badge","div","mnw","justify","onClose","Container","show","Dropdown","state","container","undefined","handleClickOutside","dataset","buiDropdownTarget","_this","setState","autoHide","contains","componentDidMount","document","addEventListener","this","componentDidUpdate","prevProps","prevState","toggle","onToggle","componentWillUnmount","removeEventListener","render","_this2","PureComponent","isRequired","Wrapper","maxHeight","minHeight","open","height","Collapse","rest","useState","setHeight","wrapper","useRef","useEffect","current","scrollHeight","number","Styles","createGlobalStyle","fullCover"],"mappings":"mpBAIMA,IAAAA,EAAOC,UAAOC,6BAChB,gBAAGC,IAAAA,MAAOC,IAAAA,KAAMC,IAAAA,QAASC,IAAAA,OAAQC,IAAAA,QAASC,IAAAA,UAAqBC,IAAAA,GAAWC,IAAAA,uBAAPC,MACzD,+BAAiC,oCACzCR,WAAiBA,MAAW,cAC5BC,eAAoBA,MAAU,cAC9BK,iBAAoBA,MAAQ,cAC5BJ,aAAqBA,MAAa,cAClCE,aAAqBA,MAAa,cAClCD,iBAAwBA,MAAY,cACpCE,oBAA8BA,MAAe,gBARMI,0HAcjD,cACFF,kBAAuBA,MAAU,aAIvCV,EAAKa,UAAY,CACfJ,GAAIK,UAAUC,OACdL,KAAMI,UAAUC,OAChBX,KAAMU,UAAUC,OAChBZ,MAAOW,UAAUC,OACjBT,OAAQQ,UAAUC,OAClBV,QAASS,UAAUC,OACnBR,QAASO,UAAUC,OACnBP,UAAWM,UAAUC,OACrBH,SAAUE,UAAUE,KACpBL,MAAOG,UAAUE,MAGnBhB,EAAKiB,aAAe,CAClBV,QAAS,IACTI,OAAO,EACPC,UAAU,GCxBNM,MAAAA,EAAOC,aAAW,SAACC,EAAOC,OACtBC,EAAyDF,EAAzDE,SAAUC,EAA+CH,EAA/CG,SAAUC,EAAqCJ,EAArCI,mBAAuBC,IAAcL,gDAC3DM,EAAeC,cACnB,SAAAC,OA+BqCC,EA9BnCD,EAAME,iBACNP,GACEA,aA4BiCM,EA5BS,CAAEL,mBAAAA,MA4BXK,EAAU,CAAEL,oBAAoB,IAChEO,MAAMC,KA7BqBJ,EAAMK,OA6BjBC,UAAUC,OAC/B,SAACC,EAAKC,GAqBJ,OApBIA,EAAQC,OACW,UAAjBD,EAAQE,KACNF,EAAQG,UACVJ,EAAIC,EAAQC,MAAQD,EAAQI,OAGN,aAAjBJ,EAAQE,KACXV,EAAQL,mBACVY,EAAIC,EAAQC,MAAQ,CAClBG,MAAOJ,EAAQI,MACfD,QAASH,EAAQG,SAEVH,EAAQG,UACjBJ,EAAIC,EAAQC,MAAQD,EAAQI,OAI9BL,EAAIC,EAAQC,MAAQD,EAAQI,OAGzBL,GACN,KApDoER,EAAMK,SAE7E,CAACV,IAGH,OACEmB,oCAAUjB,GAAWJ,IAAKA,EAAKE,SAAUG,IAAeJ,KAI5DJ,EAAKyB,YAAc,OAEnBzB,EAAKL,UAAY,CACfS,SAAUR,UAAU8B,KACpBrB,SAAUT,UAAU+B,KACpBrB,mBAAoBV,UAAUE,MAGhCE,EAAKD,aAAe,CAElBO,oBAAoB,GCvChBsB,MAAAA,EAAQ7C,UAAO8C,gJAOjB,wCAAYC,kCAAK7C,mCAAd8C,kBAOPH,EAAMH,YAAc,QACpBG,EAAMjC,UAAY,CAChBoC,QAASnC,UAAUC,OACnBO,SAAUR,UAAU8B,KACpBM,QAASpC,UAAU+B,KACnB1C,MAAOW,UAAUC,OACjBiC,IAAKlC,UAAUC,QAGjB+B,EAAM7B,aAAe,CACnBgC,QAAS,SACT9C,MAAO,UACP6C,IAAK,QCVP,MAAMG,EAAYlD,UAAO8C,6OAQrB,qBAAGK,0KAScC,8JAYnBC,MAAQ,CACNF,MAAM,KAGRG,eAAYC,IAEZC,mBAAqB,SAAA7B,GAEnB,OAAIA,EAAMK,OAAOyB,SAAW9B,EAAMK,OAAOyB,QAAQC,oBAAsBC,EAAKxC,MAAMkB,OACpEuB,SAAS,CACnBT,MAAOQ,EAAKN,MAAMF,OAKlBQ,EAAKxC,MAAM0C,UAAaF,EAAKL,YAAcK,EAAKL,UAAUQ,SAASnC,EAAMK,UAC/DsB,YAAc3B,EAAMK,QAC9B2B,EAAKC,SAAS,CACZT,MAAM,SAHZ,gHAQFY,kBAAA,WACEC,SAASC,iBAAiB,YAAaC,KAAKV,uBAG9CW,mBAAA,SAAmBC,EAAWC,GAC5BD,EAAUE,SAAWJ,KAAK/C,MAAMmD,QACD,uBAAjBnD,MAAMmD,QAClBJ,KAAKN,SAAS,CAAET,MAAOe,KAAKb,MAAMF,OAEpCe,KAAK/C,MAAMoD,UACTF,EAAUlB,OAASe,KAAKb,MAAMF,MAC9Be,KAAK/C,MAAMoD,SAASL,KAAKb,MAAMF,SAGnCqB,qBAAA,WACER,SAASS,oBAAoB,YAAaP,KAAKV,uBAGjDkB,OAAA,wBACiCR,KAAK/C,MAA5BE,IAAAA,SAAaF,oBACrB,OACEsB,wBAACS,OAAc/B,GAAOgC,KAAMe,KAAKb,MAAMF,KAAM/B,IAAK,SAAAkC,UAAaqB,EAAKrB,UAAYA,KAE5EjC,OA1D4BoB,UAAMmC,eAAvBxB,EAEZxC,UAAY,CACjB2D,SAAU1D,UAAU+B,KACpBiB,SAAUhD,UAAUE,KACpBsB,KAAMxB,UAAUC,OAAO+D,YALNzB,EAQZpC,aAAe,CACpB6C,UAAU,GCzCd,MAAMiB,EAAU9E,UAAO8C,iFAGnB,gBAAiBiC,IAAAA,UAAWC,IAAAA,oCAAzBC,OAAMC,OACiB,gBACxBF,iBAA2BA,sBAC3BD,iBAA2BA,qCAI3BI,EAAW,SAAAhE,OACP8D,EAAkB9D,EAAlB8D,KAASG,IAASjE,cACEkE,WAAS,GAA9BH,OAAQI,OACTC,EAAUC,WAOhB,OALAC,YAAU,WACRF,EAAQG,SACNJ,EAAUC,EAAQG,QAAQC,eAC3B,CAACV,IAGFxC,wBAACqC,OAAYM,GAAMH,KAAMA,EAAMC,OAAQA,EAAQ9D,IAAKmE,MAIxDJ,EAASzC,YAAc,WACvByC,EAASvE,UAAY,CACnBqE,KAAMpE,UAAUE,KAChBmE,OAAQrE,UAAU+E,OAClBb,UAAWlE,UAAU+E,OACrBZ,UAAWnE,UAAU+E,QAGvBT,EAASnE,aAAe,CACtBiE,MAAM,GCnCR,IAAMY,EAASC,ouGAoBT,qBAAGC,gWAmLP,OACEtD,wCAFmCpB,SAIjCoB,wBAACoD,GAAOE,YAJmCA"}