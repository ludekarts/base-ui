{"version":3,"file":"panels.js","sources":["../src/panels/overlay.js","../src/buttons/close.js","../src/panels/modal.js","../src/panels/drawer.js","../src/panels/dropdown.js"],"sourcesContent":["import PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Overlay = styled.div`\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  position: fixed;\r\n  ${({ top, tint, delayOut, duration }) => `\r\n    top:${top};\r\n    z-index: -1;\r\n    background: rgba(0, 0, 0, ${tint});\r\n    transition: opacity ${duration}s ease ${delayOut}s, transform ${duration}s ease ${delayOut}s, z-index 0s linear ${duration}s;\r\n  `};\r\n\r\n  /* hide */\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  pointer-events: none;\r\n  transform: translateZ(0);\r\n  \r\n  & > * {\r\n    pointer-events: none;\r\n  }\r\n\r\n  ${({ open, zIndex, delayIn, duration }) =>\r\n    open &&\r\n    ` opacity: 1;\r\n      z-index: ${zIndex};\r\n      pointer-events: all;     \r\n      transform: translateZ(0);\r\n      transition: opacity ${duration}s ease ${delayIn}s, transform ${duration}s ease ${delayIn}s, z-index 0s linear;\r\n      & > * {\r\n        pointer-events: all;\r\n      }\r\n    `}\r\n`;\r\n\r\nOverlay.propTypes = {\r\n  open: PropTypes.bool.isRequired,\r\n  top: PropTypes.number.isRequired,\r\n  tint: PropTypes.number.isRequired,\r\n  zIndex: PropTypes.number.isRequired,\r\n  delayIn: PropTypes.number.isRequired,\r\n  delayOut: PropTypes.number.isRequired,\r\n  duration: PropTypes.number.isRequired,\r\n};\r\n\r\nOverlay.defaultProps = {\r\n  top: 0,\r\n  tint: 0.9,\r\n  delayIn: 0,\r\n  delayOut: 0,\r\n  open: false,\r\n  zIndex: 1500,\r\n  duration: 0.3,\r\n};\r\n\r\nexport default Overlay;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\nconst IconX = ({ color, size }) => (\r\n  <svg width={size} viewBox=\"0 0 42 42\" fill={color}>\r\n    <path d=\"M0.779,4.542c-1.039-1.039-1.039-2.723,0-3.762l0,0c1.039-1.039,2.724-1.039,3.762,0l36.68,36.68\r\n\tc1.039,1.039,1.039,2.723,0,3.762l0,0c-1.038,1.039-2.723,1.039-3.762,0L0.779,4.542z\"/>\r\n    <path d=\"M27.818,17.943L41.221,4.542c1.039-1.039,1.039-2.723,0-3.762c-1.038-1.039-2.723-1.039-3.762,0L24.057,14.182\r\n\t\tL27.818,17.943z\"/>\r\n    <path d=\"M4.541,41.221l13.402-13.402l-3.762-3.762L0.779,37.459c-1.039,1.039-1.039,2.724,0,3.762\r\n\t\tC1.818,42.26,3.503,42.26,4.541,41.221z\"/>\r\n  </svg>\r\n)\r\n\r\nconst Wrapper = styled.button`  \r\n  border: none;  \r\n  font-size: 1em;\r\n  cursor: pointer;\r\n  border-radius: 50%;  \r\n  padding: 0.28em;\r\n  transition: filter .3s ease, box-shadow.3s ease;\r\n  \r\n  display: flex;\r\n  flex-grow: 0;\r\n  flex-shrink: 0;\r\n  align-items: center;\r\n  justify-content:center;\r\n\r\n  &:hover, &:focus {    \r\n    outline: none;\r\n    filter: brightness(0.8);\r\n  }\r\n\r\n\r\n  ${({ focusColor, color, spacing }) => `       \r\n    background-color: ${color};\r\n    &:focus {      \r\n      box-shadow: 0 0 0 3px ${focusColor};\r\n    }\r\n   \r\n    & > svg {\r\n      margin: ${spacing};\r\n    }\r\n  `}\r\n`;\r\n\r\nconst CloseButton = (props) => {\r\n  const { text, size, ...rest } = props\r\n  return (\r\n    <Wrapper {...rest}>\r\n      <IconX color={text} size={size} />\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\n\r\nCloseButton.displayName = \"CloseButton\";\r\nCloseButton.propTypes = {\r\n  text: PropTypes.string,\r\n  color: PropTypes.string,\r\n  size: PropTypes.string,\r\n  type: PropTypes.string,\r\n  spacing: PropTypes.string,\r\n  focusColor: PropTypes.string,\r\n};\r\n\r\nCloseButton.defaultProps = {\r\n  size: \"1rem\",\r\n  type: \"button\",\r\n  text: \"#262626\",\r\n  color: \"#EEEEEE\",\r\n  spacing: \"3px\",\r\n  focusColor: \"rgba(66, 153, 225, 0.6)\",\r\n};\r\n\r\nexport default CloseButton;\r\n\r\n\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport Overlay from \"./overlay\";\r\nimport Close from \"../buttons/close\";\r\n\r\nconst Center = styled.div`\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Panel = styled.div`\r\n  margin: 1em;\r\n  width: 100%;\r\n  display: flex;\r\n  max-height: 98%;\r\n  min-width: 18rem;\r\n  max-width: 45rem;\r\n  overflow: hidden;\r\n  background: white;\r\n  padding: 1rem 0 0;  \r\n  position: relative;\r\n  border-radius: 5px;\r\n  flex-direction: column;\r\n  box-sizing: border-box;\r\n  box-shadow: 0px 9px 9px -11px rgba(0, 0, 0, 0.5);\r\n\r\n  & button.close {\r\n    z-index: 1;\r\n    top: 1rem;\r\n    right: 1rem;\r\n    position: absolute;\r\n  }\r\n`;\r\n\r\nconst Content = styled.div`\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  padding: 0 1.2rem 1.2rem 1.2rem;\r\n`;\r\n\r\nconst Modal = props => {\r\n  const { children, open, onClose } = props;\r\n  return (\r\n    <Overlay open={open} tint={0.7} onClick={onClose}>\r\n      <Center>\r\n        <Panel onClick={event => event.stopPropagation()}>\r\n          {\r\n            !onClose ? null :\r\n              <Close onClick={onClose} className=\"close\" />\r\n          }\r\n          <Content>{children}</Content>\r\n        </Panel>\r\n      </Center>\r\n    </Overlay>\r\n  );\r\n}\r\n\r\nModal.defaultProps = {\r\n  open: false,\r\n};\r\n\r\nModal.propTypes = {\r\n  open: PropTypes.bool,\r\n  onClose: PropTypes.func,\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { forwardRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\nimport Overlay from \"./overlay\";\r\nimport Close from \"../buttons/close\";\r\n\r\nconst Wrapper = styled.div`\r\n  bottom: 0;\r\n  margin: 0;\r\n  z-index: 10;\r\n  padding: 1em;\r\n  display: flex;  \r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  flex-direction: column;\r\n  background-color: white;\r\n  transition: right .4s ease;  \r\n  box-shadow: 0 0 10px -5px rgba(0,0,0,.2), 0 0 24px 2px rgba(0,0,0,.14), 0 0 30px 5px rgba(0,0,0,.12);\r\n\r\n  ${({ open, nested, top, width }) => `\r\n    top: ${top};\r\n    width: ${width};\r\n    right: ${open ? \"0\" : `calc(-${width} - 4em)`};\r\n    position: ${nested ? \"absolute\" : \"fixed\"};\r\n  `};\r\n\r\n  & button.close {\r\n    z-index: 1;\r\n    top: 1rem;\r\n    right: 1rem;\r\n    position: absolute;\r\n  }\r\n`;\r\n\r\nconst DrawerPanel = forwardRef((props, ref) => {\r\n  const { children, open, onClose, nested, top, width, ...rest } = props;\r\n  return (\r\n    <Wrapper {...rest} open={open} nested={nested} top={top} width={width} onClick={event => event.stopPropagation()} ref={ref}>\r\n      {\r\n        !onClose ? null :\r\n          <Close onClick={onClose} className=\"close\" />\r\n      }\r\n      {children}\r\n    </Wrapper>\r\n  )\r\n});\r\n\r\nconst Drawer = forwardRef((props, ref) => {\r\n  const { noOverlay, open, onClose } = props;\r\n  return (\r\n    noOverlay ? (\r\n      <DrawerPanel {...props} ref={ref} />\r\n    ) : (\r\n      <Overlay open={open} onClick={onClose} tint={0.7}>\r\n        <DrawerPanel {...props} ref={ref} />\r\n      </Overlay>\r\n    )\r\n  );\r\n});\r\n\r\nDrawer.propTypes = {\r\n  open: PropTypes.bool,\r\n  top: PropTypes.string,\r\n  nested: PropTypes.bool,\r\n  width: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n  noOverlay: PropTypes.bool,\r\n};\r\n\r\nDrawer.defaultProps = {\r\n  open: false,\r\n  top: \"0\",\r\n  nested: false,\r\n  width: \"18rem\",\r\n  noOverlay: false,\r\n};\r\n\r\nDrawer.displayName = \"Drawer\";\r\n\r\nexport default Drawer;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styled from \"styled-components\";\r\n\r\n// USAGE\r\n/*\r\n  import { Dropdown } from \"@ludekarts/base-ui\";\r\n  ...\r\n\r\n  \r\n  <button data-bui-dropdown-target=\"dropdownName\">Toggle my dropdown</button>\r\n\r\n  <Dropdown name=\"dropdownName\" onToggle={toggleState => {}} autoHide>\r\n    Content\r\n  </Dropdown>\r\n\r\n*/\r\n\r\n// Styled.\r\nconst Container = styled.div`\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  visibility: hidden;\r\n  box-sizing: border-box;\r\n  transform: scale(0.95) translateZ(0);\r\n  transition: visibility 0s linear 0.5s, opacity .3s ease, transform .3s ease;\r\n\r\n  ${({ show }) => show && `\r\n    opacity: 1;\r\n    visibility: visible;\r\n    transform: scale(1) translateZ(0);\r\n    transition: opacity .3s ease, transform .3s ease, visibility 0s;\r\n    `\r\n  }\r\n`;\r\n\r\nexport default class Dropdown extends React.PureComponent {\r\n\r\n  static propTypes = {\r\n    onToggle: PropTypes.func,\r\n    autoHide: PropTypes.bool,\r\n    name: PropTypes.string.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    autoHide: false,\r\n  };\r\n\r\n  state = {\r\n    show: false\r\n  };\r\n\r\n  container = undefined;\r\n\r\n  handleClickOutside = event => {\r\n    // Click outside but on Toggle button.\r\n    if (event.target.dataset && event.target.dataset.buiDropdownTarget === this.props.name) {\r\n      return this.setState({\r\n        show: !this.state.show\r\n      });\r\n    }\r\n\r\n    // Click outside.\r\n    if (this.props.autoHide || (this.container && !this.container.contains(event.target))) {\r\n      return this.container !== event.target && // Prevents hiding when autoHide is active and user clicks on scrollbar.\r\n        this.setState({\r\n          show: false\r\n        });\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    prevProps.toggle !== this.props.toggle &&\r\n      typeof this.props.toggle === \"boolean\" &&\r\n      this.setState({ show: !this.state.show });\r\n\r\n    this.props.onToggle &&\r\n      prevState.show !== this.state.show &&\r\n      this.props.onToggle(this.state.show);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\r\n  }\r\n\r\n  render() {\r\n    const { children, ...props } = this.props;\r\n    return (\r\n      <Container {...props} show={this.state.show} ref={container => this.container = container}>\r\n        {\r\n          children\r\n        }\r\n      </Container>\r\n    )\r\n  }\r\n}"],"names":["Overlay","styled","div","delayOut","duration","top","tint","delayIn","open","zIndex","propTypes","PropTypes","bool","isRequired","number","defaultProps","IconX","React","width","size","viewBox","fill","color","d","Wrapper","button","focusColor","spacing","CloseButton","props","text","rest","displayName","string","type","Center","Panel","Content","Modal","children","onClose","onClick","event","stopPropagation","Close","className","func","node","nested","DrawerPanel","forwardRef","ref","Drawer","noOverlay","Container","show","Dropdown","state","container","undefined","handleClickOutside","target","dataset","buiDropdownTarget","_this","name","setState","autoHide","contains","componentDidMount","document","addEventListener","this","componentDidUpdate","prevProps","prevState","toggle","onToggle","componentWillUnmount","removeEventListener","render","_this2","PureComponent"],"mappings":"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"}